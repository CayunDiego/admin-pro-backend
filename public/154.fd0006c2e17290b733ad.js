(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[154],{4154:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ChildRoutesModule:()=>St});var s=r(8619);let i=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"dashboard works!"),s.qZA())},styles:[""]}),t})();var o=r(1116),a=r(1462);const n=function(t){return{"is-invalid":t}};let c=(()=>{class t{constructor(){this.progress=50,this.btnClass="btn-primary",this.outputValue=new s.vpe}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}changeProgress(t){return this.progress>=100&&t>0?(this.outputValue.emit(100),this.progress=100):this.progress<=0&&t<0?(this.outputValue.emit(0),this.progress=0):(this.progress=this.progress+t,void this.outputValue.emit(this.progress))}onChange(t){this.progress=t>=100?100:t<=0?0:t,this.outputValue.emit(this.progress)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-incrementer"]],inputs:{progress:"progress",btnClass:"btnClass"},outputs:{outputValue:"outputValue"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","placeholder","Progreso","min","0","max","100",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"span",1),s.TgZ(2,"button",2),s.NdJ("click",function(){return e.changeProgress(-5)}),s._UZ(3,"i",3),s.qZA(),s.qZA(),s.TgZ(4,"input",4),s.NdJ("ngModelChange",function(t){return e.onChange(t)})("ngModelChange",function(t){return e.progress=t}),s.qZA(),s.TgZ(5,"span",1),s.TgZ(6,"button",2),s.NdJ("click",function(){return e.changeProgress(5)}),s._UZ(7,"i",5),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngClass",e.btnClass),s.xp6(2),s.Q6J("ngClass",s.VKq(4,n,e.progress>100||e.progress<0))("ngModel",e.progress),s.xp6(2),s.Q6J("ngClass",e.btnClass))},directives:[o.mk,a.qQ,a.Fd,a.wV,a.Fj,a.JJ,a.On],styles:[""]}),t})(),l=(()=>{class t{constructor(){this.progress1=25,this.progress2=45}get getProgress1(){return`${this.progress1}%`}get getProgress2(){return`${this.progress2}%`}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-progress"]],decls:19,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","10px"],["role","progressbar",1,"progress-bar","bg-info","progress-bar-striped","active",2,"height","10px"],[1,"col-6"],[3,"progress","outputValue"],[3,"progress","btnClass","outputValue"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"Striped Progress bar"),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA(),s.TgZ(8,"div",5),s._UZ(9,"div",7),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",0),s.TgZ(11,"div",8),s.TgZ(12,"div",2),s.TgZ(13,"div",3),s.TgZ(14,"app-incrementer",9),s.NdJ("outputValue",function(t){return e.progress1=t}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",8),s.TgZ(16,"div",2),s.TgZ(17,"div",3),s.TgZ(18,"app-incrementer",10),s.NdJ("outputValue",function(t){return e.progress2=t}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(7),s.Udp("width",e.getProgress1),s.xp6(2),s.Udp("width",e.getProgress2),s.xp6(5),s.Q6J("progress",e.progress1),s.xp6(4),s.Q6J("progress",e.progress2)("btnClass","btn btn-info"))},directives:[c],styles:[".progress-bar.active[_ngcontent-%COMP%], .progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%], .progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:all 5s;animation-duration:5s;animation-name:myanimation;transition:all 5s}@keyframes myanimation{0%{width:0}}"]}),t})();var u=r(111);let d=(()=>{class t{constructor(){this.title="Sin t\xedtulo",this.doughnutChartLabels=["Label1","Label2","Label3"],this.doughnutChartData=[[1,1,1]],this.doughnutChartType="doughnut",this.colors=[{backgroundColor:["#6857E6","#009FEE","#F02059"]}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-doughnut-chart"]],inputs:{title:"title",doughnutChartLabels:["labels","doughnutChartLabels"],doughnutChartData:["data","doughnutChartData"]},decls:6,vars:5,consts:[[1,"card"],[1,"card-body"],[2,"display","block"],["baseChart","",3,"data","labels","chartType","colors"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h3"),s._uU(3),s.qZA(),s.TgZ(4,"div",2),s._UZ(5,"canvas",3),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Oqu(e.title),s.xp6(2),s.Q6J("data",e.doughnutChartData)("labels",e.doughnutChartLabels)("chartType",e.doughnutChartType)("colors",e.colors))},directives:[u.jh],styles:[""]}),t})(),g=(()=>{class t{constructor(){this.labels1=["Download Sales","In-Store Sales","Mail-Order Sales"],this.data1=[[350,450,100]],this.data2=[[35,45,1]]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-grafica1"]],decls:7,vars:3,consts:[[1,"row"],[1,"col-6"],["title","Ventas",3,"labels","data"],["title","Cambios",3,"data"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"app-doughnut-chart",2),s.qZA(),s.TgZ(3,"div",1),s._UZ(4,"app-doughnut-chart"),s.qZA(),s.TgZ(5,"div",1),s._UZ(6,"app-doughnut-chart",3),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("labels",e.labels1)("data",e.data1),s.xp6(4),s.Q6J("data",e.data2))},directives:[d],styles:[""]}),t})();var h=r(2531);let p=(()=>{class t{constructor(t){this.serviceSettings=t}ngOnInit(){this.serviceSettings.checkCurrentTheme()}changeTheme(t){this.serviceSettings.changeTheme(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(h.g))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme","working",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h3"),s._uU(5,"Seleccione el tema"),s.qZA(),s.TgZ(6,"div",4),s.TgZ(7,"ul",5),s.TgZ(8,"li"),s.TgZ(9,"b"),s._uU(10,"Con el sidebar claro"),s.qZA(),s.qZA(),s.TgZ(11,"li"),s.TgZ(12,"a",6),s.NdJ("click",function(){return e.changeTheme("default")}),s._uU(13,"1"),s.qZA(),s.qZA(),s.TgZ(14,"li"),s.TgZ(15,"a",7),s.NdJ("click",function(){return e.changeTheme("green")}),s._uU(16,"2"),s.qZA(),s.qZA(),s.TgZ(17,"li"),s.TgZ(18,"a",8),s.NdJ("click",function(){return e.changeTheme("red")}),s._uU(19,"3"),s.qZA(),s.qZA(),s.TgZ(20,"li"),s.TgZ(21,"a",9),s.NdJ("click",function(){return e.changeTheme("blue")}),s._uU(22,"4"),s.qZA(),s.qZA(),s.TgZ(23,"li"),s.TgZ(24,"a",10),s.NdJ("click",function(){return e.changeTheme("purple")}),s._uU(25,"5"),s.qZA(),s.qZA(),s.TgZ(26,"li"),s.TgZ(27,"a",11),s.NdJ("click",function(){return e.changeTheme("megna")}),s._uU(28,"6"),s.qZA(),s.qZA(),s.TgZ(29,"li",12),s.TgZ(30,"b"),s._uU(31,"Con el sidebar oscuro"),s.qZA(),s.qZA(),s.TgZ(32,"li"),s.TgZ(33,"a",13),s.NdJ("click",function(){return e.changeTheme("default-dark")}),s._uU(34,"7"),s.qZA(),s.qZA(),s.TgZ(35,"li"),s.TgZ(36,"a",14),s.NdJ("click",function(){return e.changeTheme("green-dark")}),s._uU(37,"8"),s.qZA(),s.qZA(),s.TgZ(38,"li"),s.TgZ(39,"a",15),s.NdJ("click",function(){return e.changeTheme("red-dark")}),s._uU(40,"9"),s.qZA(),s.qZA(),s.TgZ(41,"li"),s.TgZ(42,"a",16),s.NdJ("click",function(){return e.changeTheme("blue-dark")}),s._uU(43,"10"),s.qZA(),s.qZA(),s.TgZ(44,"li"),s.TgZ(45,"a",17),s.NdJ("click",function(){return e.changeTheme("purple-dark")}),s._uU(46,"11"),s.qZA(),s.qZA(),s.TgZ(47,"li"),s.TgZ(48,"a",18),s.NdJ("click",function(){return e.changeTheme("megna-dark")}),s._uU(49,"12"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA())},styles:["#themecolors[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),Z=(()=>{class t{constructor(){}ngOnInit(){this.getUsuarios().then(t=>{console.log(t)})}getUsuarios(){return new Promise(t=>{fetch("https://reqres.in/api/users").then(t=>t.json()).then(e=>t(e.data))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-promesas"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"promesas works!"),s.qZA())},styles:[""]}),t})();var m=r(8318),f=r(7570);class v extends f.w{constructor(t,e){super()}schedule(t,e=0){return this}}class T extends v{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,s=!1;try{this.work(t)}catch(i){s=!0,r=!!i&&i||new Error(i)}if(s)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,r=e.actions,s=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&r.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let A=(()=>{class t{constructor(e,r=t.now){this.SchedulerAction=e,this.now=r}schedule(t,e=0,r){return new this.SchedulerAction(this,t).schedule(r,e)}}return t.now=()=>Date.now(),t})();class q extends A{constructor(t,e=A.now){super(t,()=>q.delegate&&q.delegate!==this?q.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,r){return q.delegate&&q.delegate!==this?q.delegate.schedule(t,e,r):super.schedule(t,e,r)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const b=new q(T);var _=r(8470);function x(t){const{subscriber:e,counter:r,period:s}=t;e.next(r),this.schedule({subscriber:e,counter:r+1,period:s},s)}var U=r(9996),w=r(3835);let k=(()=>{class t{constructor(){this.intervalSubs=this.retornaIntervalo().subscribe(t=>console.log(t))}ngOnInit(){}ngOnDestroy(){this.intervalSubs.unsubscribe()}retornaIntervalo(){return function(t=0,e=b){var r;return((0,_.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=b),new m.y(r=>(r.add(e.schedule(x,t,{subscriber:r,counter:0,period:t})),r))}(100).pipe((0,U.U)(t=>t+1),(0,w.h)(t=>t%2==0))}retornaObservable(){let t=-1;return new m.y(e=>{const r=setInterval(()=>{t++,e.next(t),4===t&&(clearInterval(r),e.complete()),2===t&&(console.log("i = 2.. error"),e.error("i llego al valor 2"))},1e3)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"rxjs works!"),s.qZA())},styles:[""]}),t})();var y=r(2501),N=r.n(y),I=r(6252),J=r(5763);function C(t,e){if(1&t&&s._UZ(0,"img",22),2&t){const t=s.oxw();s.Q6J("src",t.user.imageUrl,s.LSH)}}function S(t,e){if(1&t&&s._UZ(0,"img",22),2&t){const t=s.oxw();s.Q6J("src",t.imgTemp,s.LSH)}}let O=(()=>{class t{constructor(t,e,r){this.fb=t,this._userService=e,this._fileUploadService=r,this.imgTemp=null,this.user=e.user}ngOnInit(){this.profileForm=this.fb.group({name:[this.user.name,a.kI.required],email:[this.user.email,[a.kI.required,a.kI.email]]})}updateProfile(){this._userService.updateProfile(this.profileForm.value).subscribe(t=>{const{name:e,email:r}=t.user;this.user.name=e,this.user.email=r,N().fire("Guardado","Cambios fueron guardados","success")},t=>{N().fire("Error",t.error.msj,"error")})}changeImage(t){const e=t.target.files[0];if(this.imageToUpload=e,!e)return this.imgTemp=null;const r=new FileReader;return r.readAsDataURL(e),r.onloadend=()=>{this.imgTemp=r.result},!0}uploadImage(){this._fileUploadService.updatePhoto(this.imageToUpload,"users",this.user.uid||"").then(t=>{this.user.img=t,N().fire("Guardado","Imagen actualizada","success")}).catch(t=>{console.log(t),N().fire("Error","No se pudo subir la imagen","error")})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.qu),s.Y36(I.K),s.Y36(J.J))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-profile"]],decls:42,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","submit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Nombre del usuario","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Email","formControlName","email",1,"form-control",3,"readonly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file",3,"change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"img-avatar",3,"src"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"Mi perfil de usuario"),s.qZA(),s.TgZ(6,"h6",5),s._uU(7,"Ajustes"),s.qZA(),s.TgZ(8,"form",6),s.NdJ("submit",function(){return e.updateProfile()}),s.TgZ(9,"div",7),s.TgZ(10,"label",8),s._uU(11,"User Name"),s.qZA(),s.TgZ(12,"div",9),s.TgZ(13,"div",10),s._UZ(14,"i",11),s.qZA(),s._UZ(15,"input",12),s.qZA(),s.qZA(),s.TgZ(16,"div",7),s.TgZ(17,"label",13),s._uU(18,"Email address"),s.qZA(),s.TgZ(19,"div",9),s.TgZ(20,"div",10),s._UZ(21,"i",14),s.qZA(),s._UZ(22,"input",15),s.qZA(),s.qZA(),s.TgZ(23,"button",16),s._UZ(24,"i",17),s._uU(25," Guardar cambios "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",1),s.TgZ(27,"div",2),s.TgZ(28,"div",3),s.TgZ(29,"h4",4),s._uU(30,"Avatar"),s.qZA(),s.TgZ(31,"h6",5),s._uU(32,"Imagen del usuario"),s.qZA(),s.TgZ(33,"div",18),s.YNc(34,C,1,1,"img",19),s.YNc(35,S,1,1,"img",19),s.qZA(),s.TgZ(36,"input",20),s.NdJ("change",function(t){return e.changeImage(t)}),s.qZA(),s._UZ(37,"br"),s._UZ(38,"br"),s.TgZ(39,"button",21),s.NdJ("click",function(){return e.uploadImage()}),s._UZ(40,"i",17),s._uU(41," Cambiar imagen "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(8),s.Q6J("formGroup",e.profileForm),s.xp6(14),s.Q6J("readonly",e.user.google),s.xp6(1),s.Q6J("disabled",e.profileForm.invalid),s.xp6(11),s.Q6J("ngIf",!e.imgTemp),s.xp6(1),s.Q6J("ngIf",e.imgTemp),s.xp6(4),s.Q6J("disabled",!e.imageToUpload))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,o.O5],styles:[""]}),t})();var M=r(6673),F=r(653),H=r(878);let Y=(()=>{class t{constructor(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}}accept(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)}toObservable(){switch(this.kind){case"N":return(0,H.of)(this.value);case"E":return t=this.error,new m.y(e=>e.error(t));case"C":return(0,F.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function $(t,e=b){var r;const s=(r=t)instanceof Date&&!isNaN(+r)?+t-e.now():Math.abs(t);return t=>t.lift(new Q(s,e))}class Q{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new D(t,this.delay,this.scheduler))}}class D extends M.L{constructor(t,e,r){super(t),this.delay=e,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,r=e.queue,s=t.scheduler,i=t.destination;for(;r.length>0&&r[0].time-s.now()<=0;)r.shift().notification.observe(i);if(r.length>0){const e=Math.max(0,r[0].time-s.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(D.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,r=new L(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Y.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Y.createComplete()),this.unsubscribe()}}class L{constructor(t,e){this.time=t,this.notification=e}}var E=r(529),P=r(4767),B=r(2693);const j=E.N.base_url;let V=(()=>{class t{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}transformUsers(t){return t.map(t=>new P.n(t.name,t.email,"",t.img,t.google,t.role,t.uid))}transformHospitals(t){return t}transformDoctors(t){return t}search(t,e){return this.http.get(`${j}/all/collection/${t}/${e}`,this.headers).pipe((0,U.U)(e=>{switch(t){case"users":return this.transformUsers(e.result);case"hospitals":return this.transformHospitals(e.result);case"doctors":return this.transformDoctors(e.result);default:return[]}}))}globalSearch(t){return this.http.get(`${j}/all/${t}`,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(B.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var G=r(1765);function R(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",7),s.TgZ(3,"h4",8),s._uU(4,"Cargando"),s.qZA(),s._UZ(5,"i",9),s.TgZ(6,"p",10),s._uU(7,"Por favor espere"),s.qZA(),s.qZA(),s.qZA(),s.qZA())}function X(t,e){1&t&&(s.TgZ(0,"span",30),s._uU(1,"Google"),s.qZA())}function z(t,e){1&t&&(s.TgZ(0,"span",31),s._uU(1,"Email"),s.qZA())}function K(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td",20),s.TgZ(2,"img",21),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).showModal(e)}),s.qZA(),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s.TgZ(8,"select",22),s.NdJ("ngModelChange",function(t){return e.$implicit.role=t})("change",function(){const e=s.CHM(t).$implicit;return s.oxw(2).changeRole(e)}),s.TgZ(9,"option",23),s._uU(10,"Admin"),s.qZA(),s.TgZ(11,"option",24),s._uU(12,"User"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"td"),s.YNc(14,X,2,0,"span",25),s.YNc(15,z,2,0,"span",26),s.qZA(),s.TgZ(16,"td",27),s.TgZ(17,"a",28),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).deleteUser(e)}),s._UZ(18,"i",29),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",t.imageUrl,s.LSH),s.xp6(2),s.Oqu(t.email),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Q6J("ngModel",t.role),s.xp6(6),s.Q6J("ngIf",t.google),s.xp6(1),s.Q6J("ngIf",!t.google)}}function W(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"button",32),s.NdJ("click",function(){return s.CHM(t),s.oxw(2).changePage(-5)}),s._uU(2,"Anteriores"),s.qZA(),s._uU(3," \xa0 "),s.TgZ(4,"button",32),s.NdJ("click",function(){return s.CHM(t),s.oxw(2).changePage(5)}),s._uU(5,"Siguientes"),s.qZA(),s.qZA()}}function tt(t,e){if(1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",11),s._uU(5),s.qZA(),s.TgZ(6,"h6",12),s._uU(7,"Usuarios registrados en mi aplicaci\xf3n."),s.qZA(),s.TgZ(8,"div",13),s.TgZ(9,"table",14),s.TgZ(10,"thead"),s.TgZ(11,"tr"),s.TgZ(12,"th",15),s._uU(13,"Avatar"),s.qZA(),s.TgZ(14,"th"),s._uU(15,"Correo"),s.qZA(),s.TgZ(16,"th"),s._uU(17,"Nombre"),s.qZA(),s.TgZ(18,"th",16),s._uU(19,"Role"),s.qZA(),s.TgZ(20,"th",15),s._uU(21,"Auth"),s.qZA(),s.TgZ(22,"th",17),s._uU(23,"Acciones"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"tbody"),s.YNc(25,K,19,6,"tr",18),s.qZA(),s.qZA(),s.YNc(26,W,6,0,"div",19),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw(),e=s.MAs(5);s.xp6(5),s.hij("Total de usuarios (",t.totalUsers,")"),s.xp6(20),s.Q6J("ngForOf",t.users),s.xp6(1),s.Q6J("ngIf",0===e.value.length)}}let et=(()=>{class t{constructor(t,e,r){this._userService=t,this._searchService=e,this._modalImageService=r,this.totalUsers=0,this.users=[],this.usersTemp=[],this.from=0,this.loading=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.loadUsers(),this.imgSubs=this._modalImageService.newImage.pipe($(1200)).subscribe(t=>this.loadUsers())}loadUsers(){this.loading=!0,this._userService.loadUsers(this.from).subscribe(({total:t,users:e})=>{this.totalUsers=t,this.users=e,this.usersTemp=e,this.loading=!1})}changePage(t){this.from+=t,this.from<0?this.from=0:this.from>=this.totalUsers&&(this.from-=t),this.loadUsers()}search(t){if(0===t.length)return this.users=this.usersTemp;this._searchService.search("users",t).subscribe(t=>{this.users=t})}deleteUser(t){if(t.uid===this._userService.uid)return N().fire("Error","No puede borrarse a si mismo","error");N().fire({title:"Borrar usuario?",text:`Esta a punto de borrar a ${t.name}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar!"}).then(e=>{e.isConfirmed&&this._userService.deleteUser(t).subscribe(e=>{N().fire("Usuario borrado",`${t.name} fue eliminado correctamente`,"success"),this.loadUsers()})})}changeRole(t){this._userService.saveUser(t).subscribe(t=>{console.log(t)})}showModal(t){this._modalImageService.showModal("users",t.uid,t.img)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(I.K),s.Y36(V),s.Y36(G.e))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-users"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuario...",1,"form-control",3,"keyup"],["txtTerm",""],["class","row animated fadeIn fast",4,"ngIf"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],["alt","Avatar de usuario",1,"avatar","cursor",3,"src","click"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-danger",4,"ngIf"],["class","label label-info",4,"ngIf"],[1,"text-nowrap"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-danger"],[1,"label","label-info"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"input",4,5),s.NdJ("keyup",function(){s.CHM(t);const r=s.MAs(5);return e.search(r.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,R,8,0,"div",6),s.YNc(7,tt,27,3,"div",6)}2&t&&(s.xp6(6),s.Q6J("ngIf",e.loading),s.xp6(1),s.Q6J("ngIf",!e.loading))},directives:[o.O5,o.sg,a.EJ,a.JJ,a.On,a.YN,a.Kr],styles:[""]}),t})();var rt=r(6304);const st=E.N.base_url;let it=(()=>{class t{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}loadHospitals(){return this.http.get(`${st}/hospitals`,this.headers).pipe((0,U.U)(t=>t.hospitals))}createHospital(t){return this.http.post(`${st}/hospitals`,{name:t},this.headers)}updateHospital(t,e){return this.http.put(`${st}/hospitals/${t}`,{name:e},this.headers)}deleteHospital(t){return this.http.delete(`${st}/hospitals/${t}`,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(B.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ot=E.N.base_url;let at=(()=>{class t{transform(t,e){return t?(null==t?void 0:t.includes("https"))?t:t?`${ot}/upload/${e}/${t}`:`${ot}/upload/${e}/no-img`:`${ot}/upload/${e}/no-img`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Yjl({name:"image",type:t,pure:!0}),t})();function nt(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",8),s.TgZ(3,"h4",9),s._uU(4,"Cargando"),s.qZA(),s._UZ(5,"i",10),s.TgZ(6,"p",11),s._uU(7,"Por favor espere"),s.qZA(),s.qZA(),s.qZA(),s.qZA())}function ct(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td",25),s.TgZ(2,"img",26),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).showModal(e)}),s.ALo(3,"image"),s.qZA(),s.qZA(),s.TgZ(4,"td"),s.TgZ(5,"input",27),s.NdJ("ngModelChange",function(t){return e.$implicit.name=t}),s.qZA(),s.qZA(),s.TgZ(6,"td",28),s.TgZ(7,"a",29),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).saveChanges(e)}),s._UZ(8,"i",30),s.qZA(),s.TgZ(9,"a",31),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).deleteHospital(e)}),s._UZ(10,"i",32),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,3,t.img||"","hospitals"),s.LSH)("alt",t.name),s.xp6(3),s.Q6J("ngModel",t.name)}}function lt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",12),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",12),s.TgZ(5,"div",13),s.TgZ(6,"h4",14),s._uU(7),s.qZA(),s.TgZ(8,"h6",15),s._uU(9,"Hospitales registrados en mi aplicaci\xf3n."),s.qZA(),s.qZA(),s.TgZ(10,"div",16),s.TgZ(11,"div",17),s.TgZ(12,"button",18),s.NdJ("click",function(){return s.CHM(t),s.oxw().showModalSweerAlert()}),s._UZ(13,"i",19),s._uU(14," Crear hospital "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",20),s.TgZ(16,"table",21),s.TgZ(17,"thead"),s.TgZ(18,"tr"),s.TgZ(19,"th",22),s._uU(20,"Foto"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Nombre"),s.qZA(),s.TgZ(23,"th",23),s._uU(24,"Acciones"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"tbody"),s.YNc(26,ct,11,6,"tr",24),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(7),s.hij("Hospitales (",t.hospitals.length,")"),s.xp6(19),s.Q6J("ngForOf",t.hospitals)}}let ut=(()=>{class t{constructor(t,e,r){this._hospitalService=t,this._modalImageService=e,this._searchService=r,this.hospitals=[],this.hospitalsTemp=[],this.loading=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.loadHospitals(),this.imgSubs=this._modalImageService.newImage.pipe($(1200)).subscribe(t=>this.loadHospitals())}loadHospitals(){this.loading=!0,this._hospitalService.loadHospitals().subscribe(t=>{this.loading=!1,this.hospitalsTemp=t,this.hospitals=t})}saveChanges(t){this._hospitalService.updateHospital(t._id||"",t.name).subscribe(e=>{N().fire("Actualizado",t.name,"success")})}deleteHospital(t){this._hospitalService.deleteHospital(t._id||"").subscribe(e=>{this.loadHospitals(),N().fire("Borrado",t.name,"success")})}showModalSweerAlert(){var t=this;return(0,rt.Z)(function*(){const{value:e=""}=yield N().fire({input:"text",title:"Crear Hospital",text:"Ingrese el nombre del nuevo hospital",inputPlaceholder:"Nombre del hospital",showCancelButton:!0});e.trim().length>0&&t._hospitalService.createHospital(e).subscribe(e=>{t.hospitals.push(e.hospital)})})()}showModal(t){this._modalImageService.showModal("hospitals",t._id,t.img)}search(t){if(0===(null==t?void 0:t.length))return this.hospitals=this.hospitalsTemp;this._searchService.search("hospitals",t).subscribe(t=>{this.hospitals=t})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(it),s.Y36(G.e),s.Y36(V))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-hospitals"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar hospital...",1,"form-control",3,"keyup"],["txtTerm",""],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"w100","cursor",3,"src","alt","click"],["type","text","placeholder","Nombre del hospital",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Guardar cambios",1,"cursor",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"input",4,5),s.NdJ("keyup",function(){s.CHM(t);const r=s.MAs(5);return e.search(r.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,nt,8,0,"div",6),s.YNc(7,lt,27,2,"div",7)}2&t&&(s.xp6(6),s.Q6J("ngIf",e.loading),s.xp6(1),s.Q6J("ngIf",!e.loading))},directives:[o.O5,o.sg,a.Fj,a.JJ,a.On],pipes:[at],styles:[""]}),t})();var dt=r(7727);const gt=E.N.base_url;let ht=(()=>{class t{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}loadDoctors(){return this.http.get(`${gt}/doctors`,this.headers).pipe((0,U.U)(t=>t.doctors))}createDoctor(t){return this.http.post(`${gt}/doctors`,t,this.headers)}updateDoctor(t){return this.http.put(`${gt}/doctors/${t.id}`,t,this.headers)}deleteDoctor(t){return this.http.delete(`${gt}/doctors/${t}`,this.headers)}getDoctorById(t){return this.http.get(`${gt}/doctors/${t}`,this.headers).pipe((0,U.U)(t=>t.doctor),(0,dt.K)(t=>(0,H.of)(void 0)))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(B.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var pt=r(9076);function Zt(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",8),s.TgZ(3,"h4",9),s._uU(4,"Cargando"),s.qZA(),s._UZ(5,"i",10),s.TgZ(6,"p",11),s._uU(7,"Por favor espere"),s.qZA(),s.qZA(),s.qZA(),s.qZA())}const mt=function(t){return["/dashboard/doctor",t]};function ft(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td",25),s.TgZ(2,"img",26),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).showModal(e)}),s.ALo(3,"image"),s.qZA(),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td",27),s.TgZ(7,"a",28),s._UZ(8,"i",29),s.qZA(),s.TgZ(9,"a",30),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).deleteDoctor(e)}),s._UZ(10,"i",31),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,4,t.img||"","doctors"),s.LSH)("alt",t.name),s.xp6(3),s.Oqu(t.name),s.xp6(2),s.Q6J("routerLink",s.VKq(7,mt,t.id))}}function vt(t,e){if(1&t&&(s.TgZ(0,"div",12),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",12),s.TgZ(5,"div",13),s.TgZ(6,"h4",14),s._uU(7),s.qZA(),s.TgZ(8,"h6",15),s._uU(9,"Doctores registrados en mi aplicaci\xf3n."),s.qZA(),s.qZA(),s.TgZ(10,"div",16),s.TgZ(11,"div",17),s.TgZ(12,"a",18),s._UZ(13,"i",19),s._uU(14," Crear doctor "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",20),s.TgZ(16,"table",21),s.TgZ(17,"thead"),s.TgZ(18,"tr"),s.TgZ(19,"th",22),s._uU(20,"Foto"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Nombre"),s.qZA(),s.TgZ(23,"th",23),s._uU(24,"Acciones"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"tbody"),s.YNc(26,ft,11,9,"tr",24),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(7),s.hij("Doctores (",t.doctors.length,")"),s.xp6(19),s.Q6J("ngForOf",t.doctors)}}let Tt=(()=>{class t{constructor(t,e,r){this._doctorService=t,this._modalImageService=e,this._searchService=r,this.doctors=[],this.doctorsTemp=[],this.loading=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.loadDoctors(),this.imgSubs=this._modalImageService.newImage.pipe($(1200)).subscribe(t=>this.loadDoctors())}loadDoctors(){this.loading=!0,this._doctorService.loadDoctors().subscribe(t=>{this.loading=!1,this.doctorsTemp=t,this.doctors=t})}showModal(t){this._modalImageService.showModal("doctors",t.id,t.img)}search(t){if(0===(null==t?void 0:t.length))return this.doctors=this.doctorsTemp;this._searchService.search("doctors",t).subscribe(t=>{this.doctors=t})}deleteDoctor(t){N().fire({title:"Borrar doctor?",text:`Esta a punto de borrar a ${t.name}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar!"}).then(e=>{e.isConfirmed&&this._doctorService.deleteDoctor(t.id||"").subscribe(e=>{this.loadDoctors(),N().fire("Usuario borrado",`${t.name} fue eliminado correctamente`,"success")})})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ht),s.Y36(G.e),s.Y36(V))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-doctors"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar doctor...",1,"form-control",3,"keyup"],["txtTerm",""],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/dashboard/doctor/new",1,"btn","btn-primary"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"w100","cursor",3,"src","alt","click"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Editar",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"input",4,5),s.NdJ("keyup",function(){s.CHM(t);const r=s.MAs(5);return e.search(r.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,Zt,8,0,"div",6),s.YNc(7,vt,27,2,"div",7)}2&t&&(s.xp6(6),s.Q6J("ngIf",e.loading),s.xp6(1),s.Q6J("ngIf",!e.loading))},directives:[o.O5,pt.yS,o.sg],pipes:[at],styles:[""]}),t})();function At(t,e){if(1&t&&(s.TgZ(0,"div",8),s.TgZ(1,"label",9),s._uU(2,"Foto"),s.qZA(),s.TgZ(3,"div",10),s.TgZ(4,"div",11),s._UZ(5,"img",24),s.ALo(6,"image"),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(5),s.Q6J("src",s.xi3(6,1,t.selectedDoctor.img||"","doctors"),s.LSH)}}function qt(t,e){if(1&t&&(s.TgZ(0,"option",25),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(1),s.Oqu(t.name)}}let bt=(()=>{class t{constructor(t,e,r,s,i){this.fb=t,this._hospitalService=e,this._doctorService=r,this.router=s,this.activatedRoute=i}ngOnInit(){var t;this.activatedRoute.params.subscribe(({id:t})=>this.loadDoctor(t)),this.loadHospital(),this.doctorForm=this.fb.group({name:["",a.kI.required],hospital:["",a.kI.required]}),null===(t=this.doctorForm.get("hospital"))||void 0===t||t.valueChanges.subscribe(t=>{this.selectedHospital=this.hospitals.find(e=>e._id===t)})}loadDoctor(t){"new"!==t&&this._doctorService.getDoctorById(t).pipe($(100)).subscribe(t=>{if(!t)return this.router.navigateByUrl("/dashboard/doctors");const{name:e,hospital:r}=t;this.selectedDoctor=t,this.doctorForm.setValue({name:e,hospital:null==r?void 0:r._id})})}loadHospital(){this._hospitalService.loadHospitals().subscribe(t=>{this.hospitals=t})}saveDoctor(){if(this.selectedDoctor){const t=Object.assign(Object.assign({},this.doctorForm.value),{id:this.selectedDoctor.id||""});this._doctorService.updateDoctor(t).subscribe(t=>{N().fire("Creado",`${t.doctor.name} creado correctamente`,"success")})}else this._doctorService.createDoctor(this.doctorForm.value).subscribe(t=>{N().fire("Creado",`${t.doctor.name} creado correctamente`,"success"),this.router.navigateByUrl(`/dashboard/doctor/${t.doctor.id}`)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.qu),s.Y36(it),s.Y36(ht),s.Y36(pt.F0),s.Y36(pt.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-doctor"]],decls:41,vars:9,consts:[[1,"row"],[1,"col"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","formControlName","name","id","exampleInputuname3","placeholder","Nombre del doctor",1,"form-control"],["for","exampleInputEmail3",1,"col-sm-3","control-label"],["formControlName","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"fa","fa-save"],["alt","",1,"img-thumbnail",3,"src"],["alt","",1,"w140",3,"src"],[3,"value"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"Doctor"),s.qZA(),s.TgZ(6,"h6",5),s._uU(7,"Actualizar informaci\xf3n"),s.qZA(),s.TgZ(8,"form",6),s.NdJ("submit",function(){return e.saveDoctor()}),s.YNc(9,At,7,4,"div",7),s.TgZ(10,"div",8),s.TgZ(11,"label",9),s._uU(12,"Nombre*"),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"div",11),s.TgZ(15,"div",12),s._UZ(16,"i",13),s.qZA(),s._UZ(17,"input",14),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",8),s.TgZ(19,"label",15),s._uU(20,"Hospitales*"),s.qZA(),s.TgZ(21,"div",10),s.TgZ(22,"div",11),s.TgZ(23,"select",16),s.TgZ(24,"option",17),s._uU(25,"Selecciones Hospital"),s.qZA(),s.YNc(26,qt,2,2,"option",18),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"div",19),s.TgZ(28,"div",20),s.TgZ(29,"button",21),s._UZ(30,"i",22),s._uU(31," Guardar "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(32,"div",1),s.TgZ(33,"div",2),s.TgZ(34,"div",3),s.TgZ(35,"h4",4),s._uU(36,"Hospital"),s.qZA(),s.TgZ(37,"h6",5),s._uU(38),s.qZA(),s._UZ(39,"img",23),s.ALo(40,"image"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(8),s.Q6J("formGroup",e.doctorForm),s.xp6(1),s.Q6J("ngIf",e.selectedDoctor),s.xp6(17),s.Q6J("ngForOf",e.hospitals),s.xp6(3),s.Q6J("disabled",e.doctorForm.invalid),s.xp6(9),s.Oqu(null==e.selectedHospital?null:e.selectedHospital.name),s.xp6(1),s.Q6J("src",s.xi3(40,6,(null==e.selectedHospital?null:e.selectedHospital.img)||"","hospitals"),s.LSH))},directives:[a._Y,a.JL,a.sg,o.O5,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,o.sg],pipes:[at],styles:[""]}),t})();function _t(t,e){1&t&&(s.TgZ(0,"div",6),s.TgZ(1,"p",7),s._uU(2," No hay usuario con ese t\xe9rmino "),s.qZA(),s.qZA())}function xt(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._UZ(2,"img",11),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,2,t.img||"","users"),s.LSH),s.xp6(3),s.Oqu(t.name)}}function Ut(t,e){if(1&t&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Nombre"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,xt,6,5,"tr",10),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(9),s.Q6J("ngForOf",t.users)}}function wt(t,e){1&t&&(s.TgZ(0,"div",6),s.TgZ(1,"p",7),s._uU(2," No hay doctor con ese t\xe9rmino "),s.qZA(),s.qZA())}function kt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr",13),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).openDoctor(e)}),s.TgZ(1,"td"),s._UZ(2,"img",11),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,2,t.img||"","doctors"),s.LSH),s.xp6(3),s.Oqu(t.name)}}function yt(t,e){if(1&t&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Nombre"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,kt,6,5,"tr",12),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(9),s.Q6J("ngForOf",t.doctors)}}function Nt(t,e){1&t&&(s.TgZ(0,"div",6),s.TgZ(1,"p",7),s._uU(2," No hay hospital con ese t\xe9rmino "),s.qZA(),s.qZA())}function It(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._UZ(2,"img",11),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,2,t.img||"","hospitals"),s.LSH),s.xp6(3),s.Oqu(t.name)}}function Jt(t,e){if(1&t&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Foto"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Nombre"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,It,6,5,"tr",10),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(9),s.Q6J("ngForOf",t.hospitals)}}const Ct=[{path:"",component:i,data:{titulo:"Dashboard"}},{path:"progress",component:l,data:{titulo:"ProgressBar"}},{path:"grafica1",component:g,data:{titulo:"Gr\xe1fica"}},{path:"account-settings",component:p,data:{titulo:"Ajustes de Cuenta"}},{path:"promesas",component:Z,data:{titulo:"Promesas"}},{path:"rxjs",component:k,data:{titulo:"Rxjs"}},{path:"profile",component:O,data:{titulo:"Perfil de usuario"}},{path:"search/:term",component:(()=>{class t{constructor(t,e,r){this.activatedRoute=t,this._searchService=e,this.router=r,this.users=[],this.doctors=[],this.hospitals=[]}ngOnInit(){this.activatedRoute.params.subscribe(({term:t})=>{this.globalSearch(t)})}globalSearch(t){this._searchService.globalSearch(t).subscribe(t=>{this.users=t.users,this.doctors=t.doctors,this.hospitals=t.hospitals})}openDoctor(t){this.router.navigateByUrl(`/dashboard/doctor/${t.id}`)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(pt.gz),s.Y36(V),s.Y36(pt.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-search"]],decls:22,vars:6,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info animated fadeIn fast",4,"ngIf"],["class","table-responsive animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","animated","fadeIn","fast"],[1,"mb-0"],[1,"table-responsive","animated","fadeIn","fast"],[1,"table"],[4,"ngFor","ngForOf"],["alt","avatar",1,"w50",3,"src"],["class","cursor",3,"click",4,"ngFor","ngForOf"],[1,"cursor",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h3"),s._uU(5,"Usuarios"),s.qZA(),s.YNc(6,_t,3,0,"div",4),s.YNc(7,Ut,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",1),s.TgZ(9,"div",2),s.TgZ(10,"div",3),s.TgZ(11,"h3"),s._uU(12,"Doctores"),s.qZA(),s.YNc(13,wt,3,0,"div",4),s.YNc(14,yt,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",1),s.TgZ(16,"div",2),s.TgZ(17,"div",3),s.TgZ(18,"h3"),s._uU(19,"Hospitales"),s.qZA(),s.YNc(20,Nt,3,0,"div",4),s.YNc(21,Jt,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(6),s.Q6J("ngIf",0===e.users.length),s.xp6(1),s.Q6J("ngIf",e.users.length),s.xp6(6),s.Q6J("ngIf",0===e.doctors.length),s.xp6(1),s.Q6J("ngIf",e.doctors.length),s.xp6(6),s.Q6J("ngIf",0===e.hospitals.length),s.xp6(1),s.Q6J("ngIf",e.hospitals.length))},directives:[o.O5,o.sg],pipes:[at],styles:[""]}),t})(),data:{titulo:"Busquedas"}},{path:"hospitals",component:ut,data:{titulo:"Matenimiento de Hospitales"}},{path:"doctors",component:Tt,data:{titulo:"Matenimiento de Medicos"}},{path:"doctor/:id",component:bt,data:{titulo:"Matenimiento de Medico"}},{path:"users",canActivate:[(()=>{class t{constructor(t,e){this._userService=t,this.router=e}canActivate(t,e){return"ADMIN_ROLE"===this._userService.role||(this.router.navigateByUrl("/dashboard"),!1)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(I.K),s.LFG(pt.F0))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],component:et,data:{titulo:"Matenimiento de Usuarios"}}];let St=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[pt.Bz.forChild(Ct)],pt.Bz]}),t})()}}]);